<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Israel & Damon’s Car Quiz</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#ff5c5c; --accent2:#00d4ff; --muted:#94a3b8; --glass: rgba(255,255,255,0.04);
      --success: #4ade80; --danger:#ff7b7b;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#08101a 0%, #071421 60%, #02121a 100%);color:#e6eef6}
    .wrap{max-width:980px;margin:28px auto;padding:22px}

    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:grid;place-items:center;font-weight:800;color:#08101a}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted)}

    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),var(--card));padding:18px;border-radius:14px;box-shadow:0 8px 30px rgba(2,6,23,0.7);margin-top:18px}

    .center{display:grid;place-items:center}

    .start-screen{display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:center}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    button{background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:10px;color:inherit;cursor:pointer}
    button.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#07101a;border:none;box-shadow:0 8px 24px rgba(0,0,0,0.45)}
    button.ghost{background:transparent;border:1px dashed rgba(255,255,255,0.06)}

    .quiz-area{display:none}
    .question{font-size:18px;margin:12px 0}
    .answers{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .answer{padding:12px;border-radius:10px;background:rgba(255,255,255,0.03);cursor:pointer;border:1px solid rgba(255,255,255,0.02);transition:transform .12s ease,box-shadow .12s}
    .answer:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(2,6,23,0.6)}
    .answer.correct{background:linear-gradient(90deg,var(--success),#86efac);color:#042014}
    .answer.wrong{background:linear-gradient(90deg,var(--danger),#ffb4b4);color:#3a0b0b}

    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:8px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));width:0%}

    .footer-actions{display:flex;gap:8px;align-items:center}
    .score{font-weight:700}

    .home{position:fixed;left:18px;bottom:18px}

    .question-meta{font-size:13px;color:var(--muted)}

    /* small screens */
    @media(max-width:760px){.start-screen{grid-template-columns:1fr;}
      .answers{grid-template-columns:1fr}
    }

    /* animations */
    .pop{animation:pop .45s ease}
    @keyframes pop{0%{transform:scale(.96);opacity:0}50%{transform:scale(1.03);opacity:1}100%{transform:scale(1);}}

    /* confetti canvas */
    #confetti{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:50}

    footer.small{font-size:12px;color:var(--muted);margin-top:18px}

  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">ID</div>
        <div>
          <h1>Israel & Damon’s Car Quiz</h1>
          <p class="lead">Game for computer science (breathing exercises) </p>
        </div>
      </div>
      <div class="controls">
        <button id="btn-music" class="ghost" title="Toggle background music">Music: Off</button>
        <button id="btn-home" class="ghost">Home</button>
      </div>
    </header>

    <main>
      <section class="card start-screen" id="startScreen">
        <div>
          <h2>Welcome — two bros, one quiz</h2>
          <p class="question-meta">This game has 12 questions about performance, 0–60 times, fastest cars, and general car facts. Use keyboard: 1-4 to pick answers.</p>

          <ol style="margin-top:12px;color:var(--muted)">
            <li>12 multiple choice questions</li>
            <li>Score & high score saved in your browser</li>
            <li>Animations, sounds, and confetti</li>
          </ol>

          <div style="margin-top:12px">
            <button id="btnStart" class="primary">Start the Quiz — Let’s go!</button>
            <button id="btnQuick" class="ghost">Quick Start (no music)</button>
            <button id="btnHow" class="ghost">How to play</button>
          </div>
        </div>

        <aside class="center">
          <div style="text-align:center">
            <h3>Your Names</h3>
            <p style="margin:6px 0"><strong>Israel</strong> & <strong>Damon</strong></p>
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='260' height='120'><rect rx='12' fill='%2308121a' width='100%' height='100%'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%23ff5c5c' font-family='Inter, sans-serif'>Car Quiz</text></svg>" alt="car" style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.03)"/>
            <p style="color:var(--muted);font-size:13px;margin-top:8px">Pro tip: press number keys to answer fast.</p>
          </div>
        </aside>
      </section>

      <section class="card quiz-area" id="quizArea">
        <div class="question-row">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
            <div>
              <div class="question" id="questionText">Question text</div>
              <div class="question-meta">Question <span id="qIndex">1</span> of <span id="qTotal">12</span></div>
            </div>
            <div style="text-align:right">
              <div class="score">Score: <span id="score">0</span></div>
              <div class="question-meta">High: <span id="highscore">0</span></div>
            </div>
          </div>

          <div class="answers" id="answers">
            <!-- answers injected -->
          </div>

          <div class="meta">
            <div style="width:60%">
              <div class="progress" aria-hidden="true"><i id="progBar"></i></div>
            </div>
            <div class="footer-actions">
              <button id="btnNext" class="primary" disabled>Next</button>
              <button id="btnRetry" class="ghost">Retry</button>
            </div>
          </div>
        </div>
      </section>

      <section class="card center" id="endScreen" style="display:none">
        <h2>Nice one!</h2>
        <p class="lead" id="finalText">You finished the quiz.</p>
        <div style="margin-top:12px">
          <button id="btnPlayAgain" class="primary">Play Again</button>
          <button id="btnShare" class="ghost">Copy Score</button>
        </div>
        <p class="small">Tip: Your high score is saved in this browser.</p>
      </section>

    </main>

    <footer class="small">Too Much Work for This class: 1,2,3,4 select answers. Good luck.</footer>
  </div>

  <script>
  // ====== Quiz data ======
  const QUESTIONS = [
    {q:"Which production car has one of the fastest 0-60 mph times?", choices:["Bugatti Chiron Super Sport","Ferrari F8 Tributo","Porsche 911 Carrera","Toyota Supra"], a:0, explain:"Bugatti Chiron Super Sport is among production cars with extremely fast 0-60 times."},
    {q:"0-60 time: which is fastest in ideal conditions?", choices:["2.3s","3.8s","4.5s","5.0s"], a:0, explain:"Modern hypercars can beat 2.5s in perfect conditions."},
    {q:"Which car brand is often associated with top speed records?", choices:["Bugatti","Honda","Ford","Subaru"], a:0, explain:"Bugatti holds multiple top speed records."},
    {q:"What does 0-60 measure?", choices:["Top speed","Acceleration from 0 to 60 mph","Fuel efficiency","Engine size"], a:1, explain:"0-60 refers to acceleration time from 0 to 60 mph."},
    {q:"Which of these helps 0-60 times the most?", choices:["Lightweight, high power, traction, and gearing","Bigger cup holders","Longer wheelbase","Louder exhaust"], a:0, explain:"Power, traction and weight are main factors."},
    {q:"Which car historically set speed records at the Bonneville Salt Flats?", choices:["Various custom land speed cars","Mini Cooper","Honda Civic","Jeep Wrangler"], a:0, explain:"Custom and purpose-built cars set records at Bonneville."},
    {q:"Which of these SUVs has a very fast 0-60 time?", choices:["Tesla Model X Plaid","Toyota RAV4","Honda CR-V","Ford Explorer"], a:0, explain:"Tesla Model X Plaid is unusually fast for an SUV."},
    {q:"Which drivetrain type helps with off-the-line traction?", choices:["All-wheel drive","Rear-wheel drive","Front-wheel drive","No wheels"], a:0, explain:"AWD improves traction during launches."},
    {q:"What factor can make a car slower in real life vs factory 0-60?", choices:["Wet road, hot tires, heavy fuel, or driver skill","No radio","Seat covers","Custom floor mats"], a:0, explain:"Weather, traction, and driver skill affect real-world times."},
    {q:"What is a realistic 0-60 for an everyday sports car?", choices:["4-6 seconds","1 second","12 seconds","20 seconds"], a:0, explain:"Many performance cars hit 4-6s."},
    {q:"Which electric car is known for blistering 0-60 times?", choices:["Tesla Model S Plaid","Nissan Leaf","Chevy Bolt","Honda Accord"], a:0, explain:"Tesla Model S Plaid posts very low 0-60 times."},
    {q:"What does 'power-to-weight ratio' affect?", choices:["Acceleration","Air conditioning","Stereo volume","Seat height"], a:0, explain:"Higher power-to-weight means quicker acceleration."}
  ];

  // ====== State ======
  let state = {index:0, score:0, started:false, high:0, chosen:null};
  const qTotal = QUESTIONS.length;

  // ====== Elements ======
  const startScreen = document.getElementById('startScreen');
  const quizArea = document.getElementById('quizArea');
  const endScreen = document.getElementById('endScreen');
  const questionText = document.getElementById('questionText');
  const answersEl = document.getElementById('answers');
  const qIndexEl = document.getElementById('qIndex');
  const qTotalEl = document.getElementById('qTotal');
  const scoreEl = document.getElementById('score');
  const highEl = document.getElementById('highscore');
  const progBar = document.getElementById('progBar');
  const btnNext = document.getElementById('btnNext');
  const btnRetry = document.getElementById('btnRetry');
  const btnStart = document.getElementById('btnStart');
  const btnQuick = document.getElementById('btnQuick');
  const btnHow = document.getElementById('btnHow');
  const btnHome = document.getElementById('btn-home');
  const btnMusic = document.getElementById('btn-music');
  const btnPlayAgain = document.getElementById('btnPlayAgain');
  const btnShare = document.getElementById('btnShare');
  const finalText = document.getElementById('finalText');
  const endWrap = document.getElementById('endScreen');

  qTotalEl.textContent = qTotal;

  // ====== Sounds using WebAudio ======
  const AudioCtx = window.AudioContext || window.webkitAudioContext;
  let audioCtx; function ensureAudio(){ if(!audioCtx) audioCtx = new AudioCtx(); }
  function beep(freq=440,dur=0.08, type='sine'){ ensureAudio(); const o = audioCtx.createOscillator(); const g = audioCtx.createGain(); o.type = type; o.frequency.value = freq; o.connect(g); g.connect(audioCtx.destination); g.gain.value = 0.0001; o.start(); const now = audioCtx.currentTime; g.gain.linearRampToValueAtTime(0.08, now + 0.01); g.gain.exponentialRampToValueAtTime(0.0001, now + dur); o.stop(now + dur + 0.02); }

  // ====== Confetti (simple) ======
  const confettiCanvas = document.getElementById('confetti'); const cc = confettiCanvas.getContext('2d'); function resizeConf(){ confettiCanvas.width = innerWidth; confettiCanvas.height = innerHeight;} resizeConf(); addEventListener('resize',resizeConf);
  let confettiParts = [];
  function spawnConfetti(){ confettiParts = []; for(let i=0;i<80;i++){ confettiParts.push({x:Math.random()*innerWidth,y:-20,vx:(Math.random()-.5)*6,vy:Math.random()*4+2, size:Math.random()*6+4, rot:Math.random()*6, color:i%2? '#ff5c5c':'#00d4ff'}); } drawConfetti(); }
  let confettiAnim; function drawConfetti(){ cancelAnimationFrame(confettiAnim); cc.clearRect(0,0,innerWidth,innerHeight); for(let p of confettiParts){ p.x+=p.vx; p.y+=p.vy; p.vy+=0.06; p.rot+=0.06; cc.save(); cc.translate(p.x,p.y); cc.rotate(p.rot); cc.fillStyle=p.color; cc.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6); cc.restore(); } confettiParts = confettiParts.filter(p=>p.y<innerHeight+40); if(confettiParts.length) confettiAnim = requestAnimationFrame(drawConfetti); }

  // ====== UI helpers ======
  function setHigh(v){ localStorage.setItem('id_high',v); }
  function getHigh(){ return Number(localStorage.getItem('id_high')||0); }
  function showStart(){ startScreen.style.display='grid'; quizArea.style.display='none'; endScreen.style.display='none'; }
  function showQuiz(){ startScreen.style.display='none'; quizArea.style.display='block'; endScreen.style.display='none'; }
  function showEnd(){ startScreen.style.display='none'; quizArea.style.display='none'; endScreen.style.display='block'; }

  function renderQuestion(){ const q = QUESTIONS[state.index]; questionText.textContent = q.q; qIndexEl.textContent = state.index+1; scoreEl.textContent = state.score; highEl.textContent = state.high; progBar.style.width = ((state.index)/qTotal*100)+'%'; answersEl.innerHTML = '';
    q.choices.forEach((c,i)=>{
      const b = document.createElement('button'); b.className='answer pop'; b.innerHTML = `<strong>${String.fromCharCode(65+i)}</strong>. ${c}`;
      b.setAttribute('data-index',i);
      b.addEventListener('click',()=> selectAnswer(i,b));
      answersEl.appendChild(b);
    });
    btnNext.disabled = true; state.chosen = null;
  }

  function selectAnswer(choice, btn){ if(state.chosen !== null) return; state.chosen = choice; const correct = QUESTIONS[state.index].a;
    // mark buttons
    Array.from(answersEl.children).forEach(b=>{
      const idx = Number(b.getAttribute('data-index'));
      if(idx===correct){ b.classList.add('correct'); }
      if(idx===choice && idx!==correct){ b.classList.add('wrong'); }
      b.disabled = true;
    });
    // score
    if(choice===correct){ state.score += 10; beep(880,0.09,'square'); } else { beep(180,0.14,'sawtooth'); }
    scoreEl.textContent = state.score;
    // explanation tooltip (small)
    const expl = document.createElement('div'); expl.style.marginTop='10px'; expl.style.color='var(--muted)'; expl.textContent = QUESTIONS[state.index].explain || '';
    answersEl.parentElement.appendChild(expl);
    btnNext.disabled = false;
  }

  btnNext.addEventListener('click',()=>{
    state.index++;
    if(state.index>=qTotal){ endQuiz(); } else { renderQuestion(); }
  });

  btnRetry.addEventListener('click', ()=>{ resetQuiz(); });
  btnStart.addEventListener('click', ()=>{ startQuiz(true); });
  btnQuick.addEventListener('click', ()=>{ startQuiz(false); });
  btnHow.addEventListener('click', ()=>{ alert('Use keys 1-4 to answer. Each correct is +10 points. Try to beat the high score saved in your browser.'); });
  btnHome.addEventListener('click', ()=>{ showStart(); });
  btnPlayAgain.addEventListener('click', ()=>{ resetQuiz(); startQuiz(false); });
  btnShare.addEventListener('click', ()=>{ navigator.clipboard?.writeText(`I scored ${state.score} on Israel & Damon\'s Car Quiz! Try to beat me.`).then(()=>{ alert('Score copied to clipboard!'); }); });

  function startQuiz(withMusic){ state.started = true; state.index = 0; state.score = 0; state.high = getHigh(); showQuiz(); renderQuestion(); if(withMusic) toggleMusic(true); }
  function resetQuiz(){ state.index = 0; state.score = 0; state.chosen = null; state.started = false; renderQuestion(); showStart(); }

  function endQuiz(){ // finalize
    scoreEl.textContent = state.score;
    state.high = Math.max(state.high, state.score);
    setHigh(state.high);
    highEl.textContent = state.high;
    finalText.textContent = `You got ${state.score} points — high score is ${state.high}.`;
    showEnd(); if(state.score >= Math.ceil(qTotal*10*0.7)) spawnConfetti();
  }

  // keyboard support
  window.addEventListener('keydown',(e)=>{
    if(!state.started) return;
    if(['1','2','3','4'].includes(e.key)){
      const idx = Number(e.key)-1; const btn = answersEl.querySelector(`[data-index='${idx}']`); if(btn) btn.click();
    }
    if(e.key==='Enter'){ if(!btnNext.disabled) btnNext.click(); }
  });

  // simple background music toggle (plays generated tone loop) - placeholder
  let musicOn = false; let musicInterval;
  btnMusic.addEventListener('click', ()=>{ toggleMusic(); });
  function toggleMusic(force){ if(force===true) musicOn=true; else if(force===false) musicOn=false; else musicOn=!musicOn; btnMusic.textContent = `Music: ${musicOn? 'On':'Off'}`;
    if(musicOn){ // low-key repeating tones using WebAudio
      ensureAudio(); const base = audioCtx; let t=0; musicInterval = setInterval(()=>{ beep(220 + (Math.sin(t*0.3)*30),0.12,'sine'); t++; }, 400);
    } else { clearInterval(musicInterval); }
  }

  // init
  (function init(){ try{ state.high = getHigh(); highEl.textContent = state.high; }catch(e){ console.warn(e);} showStart(); })();

  // accessibility: focus first answer when rendering
  const obs = new MutationObserver(()=>{ const first = answersEl.querySelector('.answer'); if(first) first.focus(); }); obs.observe(answersEl,{childList:true});

  // small UX: disable text selection on buttons
  document.addEventListener('selectstart', e=>{ if(e.target.closest && e.target.closest('button')) e.preventDefault(); });

  // friendly note: cheat prevention
  // NOTE: This is a front-end game. Do not modify site code while in class. Play fair and learn.
  </script>
</body>
</html>
