<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Israel & Damon's Car Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0f1724;--card:#071427;--glass:rgba(255,255,255,0.04);--muted:#9fb0c8;--accent1:#ff6b6b;--accent2:#4dd0e1;--glass2:rgba(255,255,255,0.03);--success:#4ade80}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#071423 0%, #041022 100%);color:#e6f0fb}
    .wrap{max-width:1100px;margin:24px auto;padding:22px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;font-weight:800;color:#071421}
    h1{font-size:22px;margin:0}
    p.lead{margin:0;color:var(--muted)}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),var(--card));padding:18px;border-radius:14px;box-shadow:0 10px 40px rgba(2,6,23,0.6);margin-top:18px}
    .start-screen{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:center}
    button{background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:10px;color:inherit;cursor:pointer}
    button.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#071421;border:none;box-shadow:0 10px 30px rgba(0,0,0,0.45)}
    .center{display:grid;place-items:center}
    .quiz-area{display:none}
    .question{font-size:20px;margin:12px 0}
    .answers{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .answer{padding:14px;border-radius:12px;background:rgba(255,255,255,0.02);cursor:pointer;border:1px solid rgba(255,255,255,0.02);transition:transform .12s ease,box-shadow .12s}
    .answer:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
    .answer.correct{background:linear-gradient(90deg,var(--success),#86efac);color:#042014}
    .answer.wrong{background:linear-gradient(90deg,#ff8b8b,#ffd6d6);color:#3a0b0b}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .progress{height:12px;background:rgba(255,255,255,0.03);border-radius:10px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2));width:0%}
    .question-meta{font-size:13px;color:var(--muted)}
    .car-thumb{width:100%;border-radius:10px;object-fit:cover;border:1px solid rgba(255,255,255,0.04);max-height:180px}
    footer.small{font-size:12px;color:var(--muted);margin-top:18px}
    @media(max-width:820px){.start-screen{grid-template-columns:1fr;} .answers{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">ID</div>
        <div>
          <h1>Israel & Damon’s Car Quiz — Remastered</h1>
          <p class="lead">Make it sound like you. Modern UI, car pics, and lofi vibes.</p>
        </div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="btn-music" class="ghost">Music: Off</button>
        <button id="btn-home" class="ghost">Home</button>
      </div>
    </header>

    <main>
      <section class="card start-screen" id="startScreen">
        <div>
          <h2>Yo — Israel & Damon, this one’s for us.</h2>
          <p class="question-meta">12 questions about fastest cars, 0–60 times, and performance. Sound and car pics included. Answer quick with 1–4.</p>
          <div style="margin-top:12px">
            <button id="btnStart" class="primary">Start — Let’s go!</button>
            <button id="btnQuick" class="ghost">Quick Start (no music)</button>
            <button id="btnHow" class="ghost">How to play</button>
          </div>
        </div>

        <aside class="center">
          <div style="text-align:center">
            <h3>Team</h3>
            <p style="margin:6px 0"><strong>Israel</strong> & <strong>Damon</strong></p>
            <img src="https://commons.wikimedia.org/wiki/Special:FilePath/Chevrolet_Corvette_C7.jpg" alt="Corvette" style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.03);max-height:180px;object-fit:cover"/>
            <p style="color:var(--muted);font-size:13px;margin-top:8px">Tip: press 1-4 to answer. Click Music to toggle lofi (will start after you press it).</p>
          </div>
        </aside>
      </section>

      <section class="card quiz-area" id="quizArea">
        <div class="question-row">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
            <div style="flex:1 1 60%">
              <div class="question" id="questionText">Question text</div>
              <div class="question-meta">Question <span id="qIndex">1</span> of <span id="qTotal">12</span></div>
            </div>
            <div style="text-align:right;min-width:160px">
              <div class="score">Score: <span id="score">0</span></div>
              <div class="question-meta">High: <span id="highscore">0</span></div>
            </div>
          </div>

          <div style="display:grid;grid-template-columns:1fr 300px;gap:14px;margin-top:12px;align-items:start">
            <div>
              <div class="answers" id="answers"></div>
              <div class="meta">
                <div style="width:60%"><div class="progress" aria-hidden="true"><i id="progBar"></i></div></div>
                <div style="display:flex;gap:8px"><button id="btnNext" class="primary" disabled>Next</button><button id="btnRetry" class="ghost">Retry</button></div>
              </div>
            </div>

            <aside style="background:var(--glass2);padding:12px;border-radius:12px">
              <img id="carImg" class="car-thumb" src="" alt="car image"/>
              <p id="carCaption" style="margin-top:8px;color:var(--muted);font-size:13px"></p>
              <div style="margin-top:10px">
                <audio id="lofiAudio" loop preload="none" controls style="width:100%;display:none"></audio>
                <p style="font-size:13px;color:var(--muted);margin-top:8px">Music: low-key lofi. Press the Music button to toggle.</p>
              </div>
            </aside>
          </div>
        </div>
      </section>

      <section class="card center" id="endScreen" style="display:none">
        <h2>Nice one!</h2>
        <p class="lead" id="finalText">You finished the quiz.</p>
        <div style="margin-top:12px">
          <button id="btnPlayAgain" class="primary">Play Again</button>
          <button id="btnShare" class="ghost">Copy Score</button>
        </div>
        <p class="small">High score saved in your browser.</p>
      </section>

    </main>

    <footer class="small">Made to sound like you — short lines and casual. Images from Wikimedia Commons (open-license). Music from Free Music Archive (CC0). If any image or track fails to load, try another browser or refresh.</footer>
  </div>

  <script>
  // Modernized quiz with images + lofi audio. Tone: sounds like you (casual, short, direct)
  const QUESTIONS = [
    {q: "What production car is known for extremely fast 0-60 times?", choices:["Bugatti Chiron","Ferrari 488","Porsche 911 Turbo","Corvette C7"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Bugatti_Chiron.jpg', caption:'Bugatti Chiron — hypercar'},
    {q: "Which 0-60 time is blistering fast?", choices:["2.3s","3.8s","4.5s","5.9s"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/FERRARI-488.jpg', caption:'Ferrari 488 — track-ready'},
    {q: "Which brand chases top speed records?", choices:["Bugatti","Toyota","Ford","Subaru"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Bugatti_Chiron.jpg', caption:'Bugatti often tops speed lists'},
    {q: "0-60 measures what?", choices:["Top speed","Acceleration from 0 to 60 mph","Fuel economy","Engine displacement"], a:1, img:'https://commons.wikimedia.org/wiki/Special:FilePath/21_Tesla_Model_S_Plaid.jpg', caption:'0-60 is an acceleration metric'},
    {q: "What improves 0-60 the most?", choices:["Power-to-weight, traction and gearing","Cup holders","Longer wheelbase","Louder exhaust"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Chevrolet_Corvette_C7.jpg', caption:'Less weight + more power = faster launches'},
    {q: "Where do land speed records often happen?", choices:["Bonneville Salt Flats","Shopping mall","Race track","City street"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Bugatti_Chiron_1.jpg', caption:'Bonneville — land-speed spot'},
    {q: "Which SUV is shockingly fast 0-60?", choices:["Tesla Model X Plaid","Toyota RAV4","Honda CR-V","Ford Explorer"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/21_Tesla_Model_S_Plaid.jpg', caption:'Tesla tech gives SUVs insane launches'},
    {q: "Which drivetrain helps launches?", choices:["All-wheel drive","Rear-wheel drive","Front-wheel drive","No wheels"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Porsche_911.jpg', caption:'AWD helps with traction off the line'},
    {q: "What kills real-world 0-60 times?", choices:["Wet roads, heat, bad tires, driver skill","Bad radio","Seat covers","Sunroof open"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/FERRARI-488.jpg', caption:'Conditions change times'},
    {q: "Realistic 0-60 for everyday sports car?", choices:["4–6 seconds","1 second","12 seconds","20 seconds"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Porsche_911.jpg', caption:'Many sports cars sit here'},
    {q: "Which electric car posts crazy 0-60 times?", choices:["Tesla Model S Plaid","Nissan Leaf","Chevy Bolt","Honda Accord"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/21_Tesla_Model_S_Plaid.jpg', caption:'Tesla Model S Plaid — fast'},
    {q: "Power-to-weight ratio affects?", choices:["Acceleration","Air conditioning","Stereo volume","Seat height"], a:0, img:'https://commons.wikimedia.org/wiki/Special:FilePath/Chevrolet_Corvette_C7.jpg', caption:'Higher ratio = quicker car'}
  ];

  let state = {index:0,score:0,started:false,high:0,chosen:null};
  const qTotal = QUESTIONS.length;

  const startScreen = document.getElementById('startScreen');
  const quizArea = document.getElementById('quizArea');
  const endScreen = document.getElementById('endScreen');
  const questionText = document.getElementById('questionText');
  const answersEl = document.getElementById('answers');
  const qIndexEl = document.getElementById('qIndex');
  const qTotalEl = document.getElementById('qTotal');
  const scoreEl = document.getElementById('score');
  const highEl = document.getElementById('highscore');
  const progBar = document.getElementById('progBar');
  const btnNext = document.getElementById('btnNext');
  const btnRetry = document.getElementById('btnRetry');
  const btnStart = document.getElementById('btnStart');
  const btnQuick = document.getElementById('btnQuick');
  const btnHow = document.getElementById('btnHow');
  const btnHome = document.getElementById('btn-home');
  const btnMusic = document.getElementById('btn-music');
  const btnPlayAgain = document.getElementById('btnPlayAgain');
  const btnShare = document.getElementById('btnShare');
  const carImg = document.getElementById('carImg');
  const carCaption = document.getElementById('carCaption');
  const lofiAudio = document.getElementById('lofiAudio');
  const finalText = document.getElementById('finalText');

  qTotalEl.textContent = qTotal;

  // load a CC0 lofi track (Free Music Archive) — if it fails, user can replace src with another free track
  // Source: Free Music Archive / CC0 artist (recommended). If this exact URL stops working, replace with any MP3 URL you own permission to use.
  lofiAudio.src = 'https://freemusicarchive.org/track/lo-fi-and-chill/download';

  function setHigh(v){ localStorage.setItem('id_high',v); }
  function getHigh(){ return Number(localStorage.getItem('id_high')||0); }
  function showStart(){ startScreen.style.display='grid'; quizArea.style.display='none'; endScreen.style.display='none'; }
  function showQuiz(){ startScreen.style.display='none'; quizArea.style.display='block'; endScreen.style.display='none'; }
  function showEnd(){ startScreen.style.display='none'; quizArea.style.display='none'; endScreen.style.display='block'; }

  function renderQuestion(){ const q = QUESTIONS[state.index]; questionText.textContent = q.q; qIndexEl.textContent = state.index+1; scoreEl.textContent = state.score; highEl.textContent = state.high; progBar.style.width = ((state.index)/qTotal*100)+'%'; answersEl.innerHTML = '';
    QUESTIONS[state.index].choices.forEach((c,i)=>{
      const b = document.createElement('button'); b.className='answer'; b.innerHTML = `<strong>${i+1}</strong>. ${c}`; b.setAttribute('data-index',i);
      b.addEventListener('click',()=> selectAnswer(i,b)); answersEl.appendChild(b);
    });
    // load image
    carImg.src = q.img; carCaption.textContent = q.caption;
    btnNext.disabled = true; state.chosen = null;
  }

  function selectAnswer(choice, btn){ if(state.chosen !== null) return; state.chosen = choice; const correct = QUESTIONS[state.index].a;
    Array.from(answersEl.children).forEach(b=>{
      const idx = Number(b.getAttribute('data-index'));
      if(idx===correct) b.classList.add('correct');
      if(idx===choice && idx!==correct) b.classList.add('wrong'); b.disabled = true;
    });
    if(choice===correct){ state.score += 10; playBeep(true); } else { playBeep(false); }
    scoreEl.textContent = state.score;
    btnNext.disabled = false;
  }

  btnNext.addEventListener('click',()=>{ state.index++; if(state.index>=qTotal) endQuiz(); else renderQuestion(); });
  btnRetry.addEventListener('click', ()=>{ resetQuiz(); });
  btnStart.addEventListener('click', ()=>{ startQuiz(true); });
  btnQuick.addEventListener('click', ()=>{ startQuiz(false); });
  btnHow.addEventListener('click', ()=>{ alert('Press 1-4 to answer. Each correct = +10 points. Try to beat the high score saved in your browser.'); });
  btnHome.addEventListener('click', ()=>{ showStart(); });
  btnPlayAgain.addEventListener('click', ()=>{ resetQuiz(); startQuiz(false); });
  btnShare.addEventListener('click', ()=>{ navigator.clipboard?.writeText(`I scored ${state.score} on Israel & Damon\'s Car Quiz! Beat that.`).then(()=>{ alert('Score copied.') }); });

  function startQuiz(withMusic){ state.started=true; state.index=0; state.score=0; state.high=getHigh(); showQuiz(); renderQuestion(); if(withMusic) toggleMusic(true); }
  function resetQuiz(){ state.index=0; state.score=0; state.chosen=null; state.started=false; showStart(); }
  function endQuiz(){ scoreEl.textContent = state.score; state.high = Math.max(state.high, state.score); setHigh(state.high); highEl.textContent = state.high; finalText.textContent = `You scored ${state.score} — high is ${state.high}.`; showEnd(); if(state.score >= Math.ceil(qTotal*10*0.7)) celebrate(); }

  // simple beep
  let audioCtx; function ensureAudio(){ if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)(); }
  function playBeep(ok){ ensureAudio(); const o = audioCtx.createOscillator(); const g = audioCtx.createGain(); o.type = ok? 'sine':'sawtooth'; o.frequency.value = ok? 880:220; o.connect(g); g.connect(audioCtx.destination); g.gain.value = 0.0001; o.start(); const now = audioCtx.currentTime; g.gain.linearRampToValueAtTime(0.08, now + 0.01); g.gain.exponentialRampToValueAtTime(0.0001, now + 0.12); o.stop(now + 0.13); }

  // confetti (small) when you win
  function celebrate(){ try{ const c=document.createElement('canvas'); c.style.position='fixed'; c.style.left=0; c.style.top=0; c.style.width='100%'; c.style.height='100%'; c.style.zIndex=9999; document.body.appendChild(c); const ctx=c.getContext('2d'); c.width=innerWidth; c.height=innerHeight; const parts=[]; for(let i=0;i<120;i++){ parts.push({x:Math.random()*c.width,y:Math.random()*-c.height,vx:(Math.random()-.5)*6,vy:Math.random()*6+2,size:Math.random()*8+4,color: i%2? '#ff6b6b':'#4dd0e1' }); }
      let anim = setInterval(()=>{ ctx.clearRect(0,0,c.width,c.height); for(let p of parts){ p.x+=p.vx; p.y+=p.vy; p.vy+=0.12; ctx.fillStyle=p.color; ctx.fillRect(p.x,p.y,p.size,p.size*0.6); } if(parts.every(p=>p.y>c.height)){ clearInterval(anim); document.body.removeChild(c); } },16);
    }catch(e){console.warn(e);} }

  // music toggle: will play audio using <audio> element (user interaction required by browsers)
  let musicOn=false; btnMusic.addEventListener('click', ()=>{ toggleMusic(); });
  function toggleMusic(force){ if(force===true) musicOn=true; else if(force===false) musicOn=false; else musicOn=!musicOn; btnMusic.textContent = `Music: ${musicOn? 'On':'Off'}`; if(musicOn){ lofiAudio.style.display='block'; lofiAudio.play().catch(()=>{ /* if blocked, show control and ask user */ alert('Click play on the small audio control to start lofi.'); }); } else { lofiAudio.pause(); lofiAudio.currentTime=0; lofiAudio.style.display='none'; } }

  // keyboard support
  window.addEventListener('keydown',(e)=>{ if(!state.started) return; if(['1','2','3','4'].includes(e.key)){ const idx=Number(e.key)-1; const btn = answersEl.querySelector(`[data-index='${idx}']`); if(btn) btn.click(); } if(e.key==='Enter'){ if(!btnNext.disabled) btnNext.click(); } });

  (function init(){ try{ state.high=getHigh(); highEl.textContent = state.high; }catch(e){} showStart(); })();

  // accessibility focus
  const obs = new MutationObserver(()=>{ const first = answersEl.querySelector('.answer'); if(first) first.focus(); }); obs.observe(answersEl,{childList:true});

  </script>
</body>
</html>
